<table class="table table-bordered mt-3">
    <thead class="table-light">
        <tr>
            <th *ngFor="let header of headers" class="text-nowrap">
              <div [ngSwitch]="header.type">
                <div 
                  *ngSwitchCase="HeaderTypes.NUMBER"
                  class="d-flex align-items-center mb-3"
                  >
                  <div class="me-2">
                    <input 
                      type="number"
                      class="form-control"
                      placeholder="Number..."
                      name="number"
                      (keyup)="filterItems($event)"
                    >
                  </div>
                  <div>
                    <select
                      class="form-select"
                      name="numberSign"
                      (change)="filterItems($event)"
                    >
                      <option 
                        *ngFor="let sign of header.options" 
                        [value]="sign"
                        [selected]="sign === FilterSignEnum.EQUALS"
                      >
                        {{ sign }}
                      </option>
                    </select>
                  </div>
                </div>
                
                <div 
                  *ngSwitchCase="HeaderTypes.NAME"
                  class="d-flex align-items-center mb-3"
                >
                  <div>
                    <input 
                      type="text"
                      class="form-control"  
                      placeholder="Name..."
                      name="name"
                      (keyup)="filterItems($event)"
                    >
                  </div>
                </div>

                <div 
                  *ngSwitchCase="HeaderTypes.DATE"
                  class="d-flex align-items-center mb-3"  
                >
                  <div class="me-2">
                    <input 
                      type="date"
                      class="form-select"
                      name="date"
                      (change)="filterItems($event)"
                    >                    
                  </div>

                  <div>
                    <select
                      class="form-select"
                      name="dateSign"
                      (change)="filterItems($event)"
                    >
                      <option 
                        *ngFor="let sign of header.options" 
                        [value]="sign"
                        [selected]="sign === FilterSignEnum.EQUALS"
                      >
                        {{ sign }}
                      </option>
                    </select>
                  </div>
                </div>

                <div 
                  *ngSwitchCase="HeaderTypes.STATUS"
                  class="d-flex align-items-center mb-3"
                  >
                  <select
                    class="form-select"
                    name="status"
                    (change)="filterItems($event)"
                  >
                    <option *ngFor="let status of header.options" [value]="status">
                      {{ status }}
                    </option>
                  </select>
                </div>

                <div
                  *ngSwitchCase="HeaderTypes.IMAGE"
                  class="d-flex align-items-center mb-3"
                >
                  <button 
                    class="btn btn-secondary ms-2"
                    (click)="resetFilters()"
                  >
                    Reset
                  </button>
                </div>
              </div>
            </th>
        </tr>
        <tr>
          <th *ngFor="let header of headers" style="vertical-align: bottom;">
            <div class="d-flex justify-content-between align-items-end" style="height: 100%;">
              <p class="mb-0">{{ header.label }}</p>
              <div>
                <button
                  *ngIf=" header.label !== 'Image'"
                  class="btn btn-link"
                  (click)="sortBy(header, true)"
                >
                  &#8593;
                </button>
                <button
                  *ngIf=" header.label !== 'Image'"
                  class="btn btn-link"
                  (click)="sortBy(header, false)"
                >
                  &#8595;
                </button>
              </div>
            </div>
          </th>          
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of items">
            <td 
              *ngFor="let header of headers"
            >
              {{getValue(item, header.type)}}
            </td>
        </tr>
    </tbody>
</table>

<app-pagination
  [totalLength]="totalLength"
  (pageChange)="setPage($event)"
></app-pagination>

<app-loader *ngIf="isLoading"></app-loader>